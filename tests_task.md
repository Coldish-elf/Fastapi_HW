## **Типы тестов:**

### **Юнит-тесты**
- Проверка основных функций (особенно, если есть сложная логика или парсинг `JSON`).
- Работа механизма генерации уникальных коротких ссылок.
- Помните, что в случае со сложной логикой юнит-тесты позволяют, в первую очередь, понять по примерам как работает код.
- Не злоупотребляйте юнит-тестами в тех местах, где они не нужны.

### **Функциональные тесты**
- Тестирование API через `TestClient` FastAPI.
- Проверка всех CRUD-операций с короткими ссылками.
- Тестирование поведения при передаче невалидных данных.
- Проверка работы механизма перенаправления (`GET /{short_code}`).
- Подумайте о необходимости создания отдельной тестовой базы данных и её последующей очистке.

### **Нагрузочное тестирование**
- Использовать Locust или аналогичные инструменты.
- Тестировать массовое создание ссылок.
- Оценить влияние кэширования на производительность.
- Результаты можете представить в произвольной форме.

### **Технические требования:**
- Использовать `pytest` и `httpx` для API-тестов.
- Для мокирования зависимостей (например, БД, кэша) использовать `pytest-mock` или `unittest.mock`.
- Для нагрузки использовать `Locust` (или `k6`, к примеру).
- Тесты должны лежать в папке `tests/` на одном уровне с `src/`.
- Проверить процент покрытия с помощью `coverage run -m pytest tests`.
## **Типы тестов:**

### **Юнит-тесты**
- Проверка основных функций (особенно, если есть сложная логика или парсинг `JSON`).
- Работа механизма генерации уникальных коротких ссылок.
- Помните, что в случае со сложной логикой юнит-тесты позволяют, в первую очередь, понять по примерам как работает код.
- Не злоупотребляйте юнит-тестами в тех местах, где они не нужны.

### **Функциональные тесты**
- Тестирование API через `TestClient` FastAPI.
- Проверка всех CRUD-операций с короткими ссылками.
- Тестирование поведения при передаче невалидных данных.
- Проверка работы механизма перенаправления (`GET /{short_code}`).
- Подумайте о необходимости создания отдельной тестовой базы данных и её последующей очистке.

### **Нагрузочное тестирование**
- Использовать Locust или аналогичные инструменты.
- Тестировать массовое создание ссылок.
- Оценить влияние кэширования на производительность.
- Результаты можете представить в произвольной форме.

### **Технические требования:**
- Использовать `pytest` и `httpx` для API-тестов.
- Для мокирования зависимостей (например, БД, кэша) использовать `pytest-mock` или `unittest.mock`.
- Для нагрузки использовать `Locust` (или `k6`, к примеру).
- Тесты должны лежать в папке `tests/` на одном уровне с `src/`.
- Проверить процент покрытия с помощью `coverage run -m pytest tests`.

## **Формат сдачи работы:** 
Код тестов необходимо сдавать вместе с кодом FastAPI-проекта. Также должен быть файл `html` (или аналог), который будет визуализировать тестовое покрытие, и текстовое описание с инструкцией как запустить тесты (может быть включено в `README.md`). Процент покрытия тестами должен быть доступен проверяющему без запуска кода.

## **Критерии оценки:**

| Критерий | Описание | Балл |
| :- | :- | :-: |
| **Процент покрытия** | Покрытие кода тестами не менее `90%` | `4`|
| **Корректность юнит-тестов** | Логика тестов верная, тесты охватывают основные сценарии | `1` |
| **Функциональные тесты** | Тестируется вся основная логика API (CRUD, редирект) | `3` |
| **Нагрузочные тесты** | Тестируется производительность сервиса под нагрузкой | `2` |

Критерии могут незначительно варьироваться в зависимости от конкретного случая на усмотрение проверяющего в рамках разумного.

Бонусные баллы, как обычно, на усмотрение проверяющего. Итоговая оценка за задание не может быть более 12.